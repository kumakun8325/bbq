# 📝 タスク管理

> **Project**: BBQ (Bird Battle Quest)  
> **Last Updated**: 2025-12-16

---

## 現在のフェーズ: 🚀 コアシステム完成

---

## 📌 現在のスプリント

### Sprint 2: コアシステム完成 (2025-12-15 〜)
- [x] **TASK-013**: セーブ/ロード機能
- [x] **TASK-014**: Firebase Hostingセットアップ
- [x] **TASK-015**: PWA対応
- [ ] **TASK-025**: BPシステム実装 ← **進行中**

---

## 🔨 進行中

- [ ] **TASK-025**: BPシステム実装（ブーストポイント）
  - UI表示（BPゲージ）
  - 毎ターン回復ロジック
  - コマンド選択時のBP消費

---

## ✅ 完了タスク

### フェーズ1: セットアップ
- [x] **TASK-001**: プロジェクト初期化
- [x] **TASK-002**: Phaser 3 セットアップ
- [x] **TASK-014**: Firebase Hostingセットアップ
- [x] **TASK-015**: PWA対応（manifest.json, Service Worker, アプリ化）
- [x] **TASK-003**: 基本シーン構造作成
- [x] **TASK-004**: SDD ドキュメント作成
- [x] **TASK-005**: GitHubリポジトリ連携
- [x] **TASK-006**: Tiledマップシステム（feature/tilemap-system マージ済）

### フェーズ2: プレイヤースプライト
- [x] **TASK-007**: プレイヤースプライト歩行アニメーション実装（16x24 FF6風）
- [x] **TASK-007b**: プレイヤースプライトのフレーム定義修正（12体表示バグ修正）

### フェーズ3: バトルシステム基盤
- [x] **TASK-008**: バトルシステム基盤作成（HPバー、ダメージ計算、クリティカル、ポップアップ）
- [x] **TASK-009**: 敵スプライト作成（スライム/コウモリ/ゴブリン、アイドルアニメーション付き）
- [x] **TASK-010**: ATBバトルシステム本格実装（FF6風: ウェイト、スピード差、敵ATB、ランダムターゲット）
- [x] **TASK-011**: シールド/ブレイクシステム実装（Octopath Traveler風: 弱点、シールド削り、ブレイク状態）
- [x] **TASK-012**: パーティシステム（データ構造、GameStateManager、バトル連携）
- [x] **TASK-012b**: バトルUIレイアウト刷新（SFC FF6風: 2ウィンドウ構成、コマンドポップアップ、ATBゲージデザイン）
- [x] **TASK-016**: アビリティ・アイテム実装（各キャラ固有技、ポーション等）
- [x] **TASK-017**: レベルアップシステム（経験値獲得、ステータス成長、FF6風リザルト画面）
- [x] **TASK-013**: セーブ/ロード機能（LocalStorage、オートセーブ、スロット選択UI）

---

## 📋 バックログ

### 🔥 高優先度（MVP必須）

*（現在なし - 基本機能は実装済み）*

### 📌 中優先度（α版 - バトルシステム拡張）

#### オクトラ風システム拡張
- [ ] **TASK-025**: BPシステム実装（ブーストポイント: 蓄積・消費・ペナルティ）
  - 戦闘開始時BP=1、毎ターン+1、最大5
  - ブースト使用後の回復停止ペナルティ
  - コマンド別効果（攻撃回数増 vs ダメージ増 vs 効果時間延長）
- [ ] **TASK-026**: マルチヒット攻撃実装（BP消費で攻撃回数増加、シールド削りに有効）
- [ ] **TASK-027**: 弱点発見システム（初見敵は「?」表示、攻撃で発見）

#### FF6風システム拡張
- [ ] **TASK-028**: 防御コマンド強化（次ターン先制権付与）
- [ ] **TASK-029**: バフ/デバフシステム（効果時間累積、最大9ターン、相殺ルール）
- [ ] **TASK-030**: ステータス効果実装（ヘイスト/スロウ/ストップ）
- [ ] **TASK-031**: アクティブモード対応（ウェイトモードとの切替）
- [ ] **TASK-032**: 先制攻撃/バックアタック判定

#### インフラ・配信
- [ ] **TASK-014**: Firebase Hostingセットアップ
- [ ] **TASK-015**: PWA対応

### 💭 低優先度（β版以降）

#### コンテンツ拡張
- [ ] **TASK-020**: 武器合成システム
- [ ] **TASK-021**: 追加マップ（ダンジョン）
- [ ] **TASK-022**: ショップシステム
- [ ] **TASK-023**: ストーリー/NPC
- [ ] **TASK-024**: BGM/SE実装
- [ ] **TASK-033**: ボス戦（シールド変動、弱点変更ギミック）
- [ ] **TASK-034**: 奥義システム（BP MAX必須の強力技）

#### 技術的改善
- [ ] **TASK-040**: ユニットテスト追加
- [ ] **TASK-041**: E2Eテスト
- [ ] **TASK-042**: パフォーマンス最適化
- [ ] **TASK-043**: コード圧縮・難読化

---

## 🔮 将来のアイデア

### 機能追加候補
- [ ] イベントシーン
- [ ] 実績システム
- [ ] ニューゲーム+
- [ ] 行動順タイムライン表示（オクトラ風）
- [ ] 順番送り（パス）機能

### 高度なバトルメカニクス（参考）
- [ ] 瀕死必殺技（HP<MaxHP/8で発動）
- [ ] 二刀流/みだれうち
- [ ] 傭兵呼び（お金でシールド確定削り）

---

## 📋 タスクの追加方法

新しいタスクを追加する場合:

1. 該当セクションにタスクを追加
2. 優先度に応じて並び替え
3. 着手時に「進行中」セクションに移動
4. 完了したら「完了タスク」セクションに移動

### タスクフォーマット
```markdown
- [ ] **TASK-XXX**: タスク名 - 簡潔な説明
```

---

## 🏷️ 優先度ガイド

| 優先度 | 基準 |
|--------|------|
| 🔥 高 | MVP必須 / バグ修正 |
| 📌 中 | α版で必要（バトル拡張・インフラ） |
| 💭 低 | β版以降 / あれば嬉しい |

---

*このファイルはプロジェクトのTODOリストとして使用します。*
